# Database Configuration - MySQL/PostgreSQL 자동 감지
# Render 환경에서는 PostgreSQL, 로컬에서는 MySQL
db.driver=${DB_DRIVER:com.mysql.cj.jdbc.Driver}
db.url=${DB_URL:jdbc:mysql://${DB_HOST:localhost}:${DB_PORT:3306}/${DB_NAME:demo_db}?useSSL=false&allowPublicKeyRetrieval=true&serverTimezone=Asia/Seoul&characterEncoding=UTF-8&autoReconnect=true&failOverReadOnly=false&maxReconnects=10}
db.username=${DB_USERNAME:root}
db.password=${DB_PASSWORD:1234}

# PostgreSQL용 설정 (Render에서 자동 적용)
# db.driver=org.postgresql.Driver
# db.url=jdbc:postgresql://${DB_HOST}:${DB_PORT}/${DB_NAME}?sslmode=require

# Connection Pool Settings (Render 프로덕션 최적화)
db.initialSize=${DB_INITIAL_SIZE:2}
db.maxActive=${DB_MAX_ACTIVE:5}
db.maxIdle=${DB_MAX_IDLE:3}
db.minIdle=${DB_MIN_IDLE:1}
db.maxWait=${DB_MAX_WAIT:5000}

# Render 연결 안정성을 위한 추가 설정
db.testOnBorrow=true
db.testWhileIdle=true
db.validationQuery=${DB_VALIDATION_QUERY:SELECT 1} 